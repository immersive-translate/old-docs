{"version":3,"file":"static/chunks/pages/index-0d79591be9ac223c.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./components/step.tsx","webpack://_N_E/./components/wechat.tsx","webpack://_N_E/./components/presentation-step1.tsx","webpack://_N_E/./pages/index.tsx","webpack://_N_E/./utils/const.ts","webpack://_N_E/./utils/image-loader.js","webpack://_N_E/./components/presentation-step1.module.css","webpack://_N_E/./components/step.module.css","webpack://_N_E/./components/wechat.module.css","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  ","import classNames from \"classnames\";\nimport styles from \"./step.module.css\";\nimport { base_url } from \"@/utils/const\";\nimport React from \"react\";\n\nexport type StepConfig = { step: number, name: string, href: string }\nconst defaultConfigs: StepConfig[] = [\n  { step: 1, name: \"固定插件\", href: base_url + \"/\" },\n  { step: 2, name: \"翻译网页\", href: base_url + \"/step-2/\" },\n  { step: 3, name: \"开始使用\", href: base_url + \"/step-3/\" },\n];\nexport default function Step({ step, configs }: { step: number, configs?: StepConfig[] }) {\n  const curConfigs = configs || defaultConfigs;\n\n  return (\n    <div className={classNames(styles.container, \"notranslate\")}>\n      {\n        curConfigs.map((item, index) => {\n          const isActive = item.step == step;\n          return (\n            <React.Fragment key={item.name}>\n              <a className={classNames({\n                [styles[\"step\"]]: true,\n                [styles[\"step-active\"]]: isActive,\n              })}\n                href={item.href}\n              >\n                <div\n                  className={classNames({\n                    [styles[\"step-circle\"]]: true,\n                    [styles[\"step-circle-active\"]]: isActive,\n                  })}>\n                  {item.step}\n                </div>\n                <span className={styles.label}>{item.name}</span>\n              </a>\n              {index < curConfigs.length - 1 && <div className={classNames({\n                [styles.line]: true,\n                [styles.lineActive]: isActive,\n              })} />}\n            </React.Fragment>\n          );\n        })\n      }\n    </div>\n  );\n}\n","import classNames from \"classnames\";\nimport styles from \"./wechat.module.css\";\nimport Image from \"next/image\";\n\nexport default function Wechat() {\n  return (\n    <div className={classNames(styles.wechat, \"notranslate\")}>\n      <Image src=\"https://immersive-translate.owenyoung.com/assets/wechat-contact.png\" width={112} height={112} alt=\"wechat\" />\n\n      <div className={classNames(styles[\"wechat-subtitle\"])}>\n        安装使用遇到问题？<br />最新双语信息交流？<br />欢迎加入微信群！\n      </div>\n    </div>\n  )\n}","import classNames from \"classnames\";\nimport styles from \"./presentation-step1.module.css\";\nimport { useEffect, useState } from \"react\";\nimport { getBrowserLang, isEdge } from \"@/utils\";\nimport Image from \"next/image\";\nexport default function PresentationStep1() {\n  const [imgSrc, setImgSrc] = useState('');\n  useEffect(() => {\n    const lang = getBrowserLang();\n    let browser = \"chrome\";\n    if (isEdge()) {\n      browser = \"edge\";\n    }\n    const gif = `/assets/${browser}_${lang}.gif`;\n    setImgSrc(gif);\n  }, []);\n  return (\n    <div className={classNames(styles.container)}>\n      <h1 className={classNames(styles.title)} >\n        将 <strong>沉浸式翻译</strong> 添加到工具栏\n      </h1>\n      <div className={classNames(\"notranslate\", styles.content)}>\n        <Image loading={\"lazy\"} src={imgSrc} hidden={!imgSrc} fill={true} style={{ objectFit: 'contain' }} alt=\"\" />\n      </div>\n    </div>\n  );\n}","\nimport PresentationStep1 from \"@/components/presentation-step1\";\nimport Step from \"@/components/step\";\nimport Wechat from \"@/components/wechat\";\nimport { loadResource, isFirefox, isEdge, isMobile, isSafari } from \"@/utils\";\nimport { base_url } from \"@/utils/const\";\nimport classNames from \"classnames\";\nimport Head from \"next/head\";\nimport { CSSProperties, useEffect, useState } from \"react\";\n\nconst nextUrl = base_url + \"/step-2/\";\n\nexport default function Step1() {\n  usePingUrl();\n  const style = usePin();\n  return (\n    <main>\n      <Head>\n        <title>沉浸式翻译 - 固定插件</title>\n      </Head>\n      <div className={classNames(\"card\")}>\n        <h1 className={classNames(\"title\", \"notranslate\")}>✋ 快速开始体验沉浸式翻译</h1>\n        <Step step={1} />\n        <PresentationStep1 />\n        <footer className={classNames(\"notranslate\", \"flex\", \"justify-center\")}>\n          <a className={classNames(\"ghost\")} href={nextUrl}> 我已完成，开始翻译</a>\n          <link rel=\"prefetch\" href={nextUrl} />\n        </footer>\n      </div>\n      <Wechat />\n      <div className={classNames(\"pin-extension\")} style={style}>\n        将”沉浸式翻译“扩展添加至工具栏\n      </div>\n      <style jsx>{`\n  .pin-extension {\n    position: absolute;\n    right: 80px;\n    top: 0;\n    width: 250px;\n    padding-top: 64px;\n    background-position: right top;\n    background-repeat: no-repeat;\n  }\n      `}</style>\n    </main>\n  );\n}\n\nfunction usePingUrl() {\n  useEffect(() => {\n    const url = \"https://www.kadaza.com/\";\n    loadResource(url).catch((e) => {\n      console.error(e);\n      (window as any).dataLayer?.push({ event: \"ping_fail\", moreSite: url });\n    });\n  }, []);\n}\nfunction usePin() {\n  const [style, setStyle] = useState<CSSProperties>({ display: 'none' });\n  useEffect(() => {\n    if (isMobile()) return;\n    const pin = document.querySelector(\".pin-extension\") as HTMLElement;\n    let browser = \"chrome\";\n    let curStyle = { display: 'none' } as CSSProperties;\n    //safari 不显示 userAgent\n    if (pin && !isSafari()) {\n      curStyle[\"display\"] = 'block';\n    }\n    if (isFirefox()) {\n      curStyle['right'] = '20px';\n    }\n    if (isEdge()) {\n      browser = \"edge\";\n      curStyle['backgroundPosition'] = '115px 0';\n    }\n    curStyle['backgroundImage'] = `url(${base_url}/assets/pin-extension-${browser}.svg)`;\n    setStyle(curStyle);\n  }, [setStyle]);\n  return style;\n}","export const base_url = process.env.NEXT_PUBLIC_BASE_PATH;","\nexport default function imageLoader({ src, width, quality }) {\n  if (src.startsWith('http')) return src;\n  if (src.startsWith(process.env.NEXT_PUBLIC_BASE_PATH)) return src;\n  return `${process.env.NEXT_PUBLIC_BASE_PATH}/${src}`;//?w=${width}&q=${quality || 75}\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"presentation-step1_container__CYj9U\",\"title\":\"presentation-step1_title__yL7eV\",\"content\":\"presentation-step1_content__B67Fh\",\"loading\":\"presentation-step1_loading__Cbz20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"step_container__pSs_4\",\"step\":\"step_step__LVXZ8\",\"step-active\":\"step_step-active__x_UWQ\",\"step-circle\":\"step_step-circle__lnaZd\",\"step-circle-active\":\"step_step-circle-active__3fOUh\",\"label\":\"step_label__HvyQB\",\"line\":\"step_line__2AEcZ\",\"lineActive\":\"step_lineActive__N1nnS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wechat\":\"wechat_wechat__3VDjS\",\"wechat-subtitle\":\"wechat_wechat-subtitle__FH_wd\"};"],"names":["window","__NEXT_P","push","__webpack_require__","defaultConfigs","step","name","href","base_url","Step","param","configs","curConfigs","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","className","classNames","styles","map","item","index","isActive","jsxs","React","Fragment","a","span","length","Wechat","Image","src","width","height","alt","br","PresentationStep1","imgSrc","setImgSrc","useState","useEffect","lang","getBrowserLang","browser","isEdge","gif","concat","jsx_runtime","h1","strong","loading","hidden","fill","style","objectFit","nextUrl","Step1","url","loadResource","catch","_window_dataLayer","console","error","e","dataLayer","event","moreSite","usePin","setStyle","display","isMobile","pin","document","querySelector","curStyle","isSafari","isFirefox","main","Head","title","footer","link","rel","process","imageLoader","quality","startsWith","module","exports"],"sourceRoot":""}