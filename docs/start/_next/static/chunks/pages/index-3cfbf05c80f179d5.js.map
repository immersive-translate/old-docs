{"version":3,"file":"static/chunks/pages/index-3cfbf05c80f179d5.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./components/step.tsx","webpack://_N_E/./components/wechat.tsx","webpack://_N_E/./hooks/index.ts","webpack://_N_E/./components/presentation-step1.tsx","webpack://_N_E/./pages/index.tsx","webpack://_N_E/./utils/const.ts","webpack://_N_E/./utils/image-loader.js","webpack://_N_E/./components/presentation-step1.module.css","webpack://_N_E/./components/step.module.css","webpack://_N_E/./components/wechat.module.css","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  ","import classNames from \"classnames\";\nimport styles from \"./step.module.css\";\nimport { base_url } from \"@/utils/const\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { getBrowserLang } from \"@/utils\";\nimport { useI18n } from \"@/hooks\";\n\nexport type StepConfig = { step: number, name: string, href: string }\n\ntype LangType = {\n  step1: string,\n  step2: string,\n  step3: string\n}\nconst langs: { [key: string]: LangType } = {\n  default: {\n    step1: \"\",\n    step2: \"\",\n    step3: \"\"\n  },\n  zh: {\n    step1: \"固定插件\",\n    step2: \"翻译网页\",\n    step3: \"开始使用\"\n  },\n  en: {\n    step1: \"Fixed plugin\",\n    step2: \"Translate webpage\",\n    step3: \"Get Started\"\n  }\n}\nexport default function Step({ step, configs }: { step: number, configs?: StepConfig[] }) {\n  const i18n = useI18n<LangType>(langs);\n  const defaultConfigs: StepConfig[] = [\n    { step: 1, name: i18n[\"step1\"], href: base_url + \"/\" },\n    { step: 2, name: i18n[\"step2\"], href: base_url + \"/step-2/\" },\n    { step: 3, name: i18n[\"step3\"], href: base_url + \"/step-3/\" },\n  ];\n  const curConfigs = configs || defaultConfigs;\n\n  return (\n    <div className={classNames(styles.container, \"notranslate\")}>\n      {\n        curConfigs.map((item, index) => {\n          const isActive = item.step == step;\n          return (\n            <React.Fragment key={item.step}>\n              <a className={classNames({\n                [styles[\"step\"]]: true,\n                [styles[\"step-active\"]]: isActive,\n              })}\n                href={item.href}\n              >\n                <div\n                  className={classNames({\n                    [styles[\"step-circle\"]]: true,\n                    [styles[\"step-circle-active\"]]: isActive,\n                  })}>\n                  {item.step}\n                </div>\n                <span className={styles.label}>{item.name}</span>\n              </a>\n              {index < curConfigs.length - 1 && <div className={classNames({\n                [styles.line]: true,\n                [styles.lineActive]: isActive,\n              })} />}\n            </React.Fragment>\n          );\n        })\n      }\n    </div>\n  );\n}\n","import classNames from \"classnames\";\nimport styles from \"./wechat.module.css\";\nimport Image from \"next/image\";\nimport { useI18n, useLang } from \"@/hooks\";\n\ntype LangType = {\n  title: string\n}\nconst langs: { [key: string]: LangType } = {\n  default: {\n    title: \"\",\n  },\n  zh: {\n    title: \"安装使用遇到问题？<br />最新双语信息交流？<br />欢迎加入微信群！\"\n  },\n  en: {\n    title: \"Having problems with installation and use?<br />The latest bilingual information exchange?<br />Welcome to join the WeChat group!\"\n  }\n}\nexport default function Wechat() {\n  const lang = useLang();\n  const i18n = useI18n<LangType>(langs);\n  if (lang != \"zh\") return null;\n  return (\n    <div className={classNames(styles.wechat, \"notranslate\")}>\n      <Image src=\"https://immersive-translate.owenyoung.com/assets/wechat-contact.png\" width={112} height={112} alt=\"wechat\" />\n\n      <div className={classNames(styles[\"wechat-subtitle\"])} dangerouslySetInnerHTML={{ __html: i18n[\"title\"] }}>\n      </div>\n    </div>\n  )\n}","import { getBrowserLang } from \"@/utils\";\nimport { useEffect, useMemo, useState } from \"react\";\n\nexport function useI18n<T>(langs: any): T {\n  const lang = useLang();\n  const i18n = useMemo(() => langs[lang || \"default\"], [lang]);\n  return i18n;\n}\n\nexport function useLang() {\n  const [lang, setLang] = useState<Partial<LangEnum>>();\n  useEffect(() => {\n    setLang(getBrowserLang());\n  }, [setLang]);\n  return lang;\n}\n","import classNames from \"classnames\";\nimport styles from \"./presentation-step1.module.css\";\nimport { useEffect, useState } from \"react\";\nimport { getBrowserLang, isEdge } from \"@/utils\";\nimport Image from \"next/image\";\nimport { useI18n } from \"@/hooks\";\ntype LangType = {\n  title: string\n}\nconst langs: { [key: string]: LangType } = {\n  default: {\n    title: \"\"\n  },\n  zh: {\n    title: `将 <strong>沉浸式翻译</strong> 添加到工具栏`\n  },\n  en: {\n    title: `Add <strong>Immersive Translation</strong> to toolbar`\n  }\n}\nexport default function PresentationStep1() {\n  const i18n = useI18n<LangType>(langs)\n  const [imgSrc, setImgSrc] = useState('');\n  useEffect(() => {\n    const lang = getBrowserLang();\n    let browser = \"chrome\";\n    if (isEdge()) {\n      browser = \"edge\";\n    }\n    const gif = `/assets/${browser}_${lang}.gif`;\n    setImgSrc(gif);\n  }, []);\n  return (\n    <div className={classNames(styles.container)}>\n      <h1 className={classNames(styles.title)} dangerouslySetInnerHTML={{ __html: i18n[\"title\"] }}></h1>\n      <div className={classNames(\"notranslate\", styles.content)}>\n        <Image loading={\"lazy\"} src={imgSrc} hidden={!imgSrc} fill={true} style={{ objectFit: 'contain' }} alt=\"\" />\n      </div>\n    </div>\n  );\n}","\nimport PresentationStep1 from \"@/components/presentation-step1\";\nimport Step from \"@/components/step\";\nimport Wechat from \"@/components/wechat\";\nimport { useI18n } from \"@/hooks\";\nimport { loadResource, isFirefox, isEdge, isMobile, isSafari } from \"@/utils\";\nimport { base_url } from \"@/utils/const\";\nimport classNames from \"classnames\";\nimport Head from \"next/head\";\nimport { CSSProperties, useEffect, useState } from \"react\";\n\nconst nextUrl = base_url + \"/step-2/\";\ntype LangType = {\n  title: string,\n  subtitle: string,\n  pin: string,\n  next: string\n}\nconst langs: { [key: string]: LangType } = {\n  default: {\n    title: \"\",\n    subtitle: \"\",\n    pin: \"\",\n    next: \"\",\n  },\n  zh: {\n    title: \"沉浸式翻译 - 固定插件\",\n    subtitle: \"✋ 快速开始体验沉浸式翻译\",\n    next: \"我已完成，开始翻译\",\n    pin: \"将”沉浸式翻译“扩展添加至工具栏\"\n  },\n  en: {\n    title: \"Immersive Translation - Fixed Plugin\",\n    subtitle: \"✋ Quickly Start Experience Immersive Translation\",\n    next: \"I'm done, start translating\",\n    pin: \"Add the Immersive Translation extension to the toolbar\"\n  }\n}\nexport default function Step1() {\n  const i18n = useI18n<LangType>(langs);\n  usePingUrl();\n  const style = usePin();\n  return (\n    <main>\n      <Head>\n        <title>{i18n[\"title\"]}</title>\n      </Head>\n      <div className={classNames(\"card\")}>\n        <h1 className={classNames(\"title\", \"notranslate\")}>{i18n[\"subtitle\"]}</h1>\n        <Step step={1} />\n        <PresentationStep1 />\n        <footer className={classNames(\"notranslate\", \"flex\", \"justify-center\")}>\n          <a className={classNames(\"ghost\")} href={nextUrl}> {i18n[\"next\"]}</a>\n          <link rel=\"prefetch\" href={nextUrl} />\n        </footer>\n      </div>\n      <Wechat />\n      <div className={classNames(\"pin-extension\")} style={style}>\n        {i18n[\"pin\"]}\n      </div>\n      <style jsx>{`\n  .pin-extension {\n    position: absolute;\n    right: 80px;\n    top: 0;\n    width: 250px;\n    padding-top: 64px;\n    background-position: right top;\n    background-repeat: no-repeat;\n  }\n      `}</style>\n    </main>\n  );\n}\n\nfunction usePingUrl() {\n  useEffect(() => {\n    const url = \"https://www.kadaza.com/\";\n    loadResource(url).catch((e) => {\n      console.error(e);\n      (window as any).dataLayer?.push({ event: \"ping_fail\", moreSite: url });\n    });\n  }, []);\n}\nfunction usePin() {\n  const [style, setStyle] = useState<CSSProperties>({ display: 'none' });\n  useEffect(() => {\n    if (isMobile()) return;\n    const pin = document.querySelector(\".pin-extension\") as HTMLElement;\n    let browser = \"chrome\";\n    let curStyle = { display: 'none' } as CSSProperties;\n    //safari 不显示 userAgent\n    if (pin && !isSafari()) {\n      curStyle[\"display\"] = 'block';\n    }\n    if (isFirefox()) {\n      curStyle['right'] = '20px';\n    }\n    if (isEdge()) {\n      browser = \"edge\";\n      curStyle['backgroundPosition'] = '115px 0';\n    }\n    curStyle['backgroundImage'] = `url(${base_url}/assets/pin-extension-${browser}.svg)`;\n    setStyle(curStyle);\n  }, [setStyle]);\n  return style;\n}","export const base_url = process.env.NEXT_PUBLIC_BASE_PATH;","\nexport default function imageLoader({ src, width, quality }) {\n  if (src.startsWith('http')) return src;\n  if (src.startsWith(process.env.NEXT_PUBLIC_BASE_PATH)) return src;\n  return `${process.env.NEXT_PUBLIC_BASE_PATH}/${src}`;//?w=${width}&q=${quality || 75}\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"presentation-step1_container__CYj9U\",\"title\":\"presentation-step1_title__yL7eV\",\"content\":\"presentation-step1_content__B67Fh\",\"loading\":\"presentation-step1_loading__Cbz20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"step_container__pSs_4\",\"step\":\"step_step__LVXZ8\",\"step-active\":\"step_step-active__x_UWQ\",\"step-circle\":\"step_step-circle__lnaZd\",\"step-circle-active\":\"step_step-circle-active__3fOUh\",\"label\":\"step_label__HvyQB\",\"line\":\"step_line__2AEcZ\",\"lineActive\":\"step_lineActive__N1nnS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wechat\":\"wechat_wechat__3VDjS\",\"wechat-subtitle\":\"wechat_wechat-subtitle__FH_wd\"};"],"names":["window","__NEXT_P","push","__webpack_require__","langs","default","step1","step2","step3","zh","en","Step","param","step","configs","i18n","useI18n","defaultConfigs","name","href","base_url","curConfigs","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","className","classNames","styles","map","item","index","isActive","jsxs","React","Fragment","a","span","length","title","Wechat","lang","useLang","Image","src","width","height","alt","dangerouslySetInnerHTML","__html","useMemo","setLang","useState","useEffect","getBrowserLang","PresentationStep1","imgSrc","setImgSrc","browser","isEdge","gif","concat","jsx_runtime","h1","loading","hidden","fill","style","objectFit","nextUrl","subtitle","pin","next","Step1","url","loadResource","catch","_window_dataLayer","console","error","e","dataLayer","event","moreSite","usePin","setStyle","display","isMobile","document","querySelector","curStyle","isSafari","isFirefox","main","Head","footer","link","rel","process","imageLoader","quality","startsWith","module","exports"],"sourceRoot":""}